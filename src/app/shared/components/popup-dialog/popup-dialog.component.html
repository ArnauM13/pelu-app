@if (isOpen()) {
  <div
    class="popup-dialog-overlay"
    [class]="customClass()"
    (click)="onBackdropClick()"
  >
    <div
      class="popup-dialog"
      [class]="'popup-dialog-' + config().size"
      (click)="$event.stopPropagation()"
    >
      <!-- Header -->
      <div class="popup-header">
        <h2 class="popup-title">{{ config().title }}</h2>

        <!-- Close Button - Always visible -->
        <button
          class="close-button"
          (click)="onClose()"
          [attr.aria-label]="'Close'"
          type="button"
        >
          <span class="close-icon">Ã—</span>
        </button>
      </div>

      <!-- Content -->
      <div class="popup-content">
        <ng-content></ng-content>
      </div>

      <!-- Footer -->
      @if (showFooter() && footerActions().length > 0) {
        <div class="popup-footer">
          @for (action of footerActions(); track action.label) {
            <button
              class="btn"
              [class]="getActionClass(action)"
              (click)="onActionClick(action)"
              type="button"
            >
              {{ action.label }}
            </button>
          }
        </div>
      }
    </div>
  </div>
}
