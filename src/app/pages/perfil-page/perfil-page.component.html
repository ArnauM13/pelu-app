<div class="perfil-container page-animation">
  <div class="perfil-card">
    <!-- Header -->
    <div class="perfil-header">
      <div class="avatar-section">
        <div class="avatar">
          <span class="avatar-text">{{ displayName().charAt(0).toUpperCase() }}</span>
        </div>
        <h1 class="user-name">{{ displayName() }}</h1>
        <p class="user-email">{{ email() }}</p>
      </div>
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="loading-section">
      <div class="loading-spinner"></div>
      <p>Carregant informació del perfil...</p>
    </div>
    }

    <!-- User Information -->
    @if (!isLoading() && user()) {
    <div class="perfil-content">
      <div class="info-section">
        <h2>Informació del compte</h2>

        <div class="info-grid">
          @for (item of infoItems(); track item.label) {
          <pelu-info-item
            [data]="item"
            [showStatus]="item.status === 'active'" />
          }
        </div>
      </div>

      <!-- Actions Section -->
      <div class="actions-section">
        <h2>Accions</h2>
        <div class="actions-grid">
          <button class="action-btn primary" routerLink="/booking">
            <i class="action-icon">📅</i>
            Nova reserva
          </button>
          <button class="action-btn secondary" routerLink="/">
            <i class="action-icon">🏠</i>
            Tornar a l'inici
          </button>
          <button class="action-btn danger" (click)="logout()">
            <i class="action-icon">🚪</i>
            Tancar sessió
          </button>
        </div>
      </div>
    </div>
    }

    <!-- No User State -->
    @if (!isLoading() && !user()) {
    <div class="no-user-section">
      <div class="no-user-content">
        <i class="no-user-icon">🔒</i>
        <h2>No has iniciat sessió</h2>
        <p>Inicia sessió per veure la teva informació de perfil</p>
        <button class="login-btn" routerLink="/login">
          Iniciar sessió
        </button>
      </div>
    </div>
    }
  </div>
</div>
