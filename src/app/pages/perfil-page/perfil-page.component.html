<div class="perfil-container page-animation" style="view-transition-name: perfil-container">
  <div class="perfil-card" style="view-transition-name: perfil-card">
    <!-- Header -->
    <div class="perfil-header" style="view-transition-name: perfil-header">
      <div class="avatar-section">
        <div class="avatar">
          <span class="avatar-text">{{ displayName().charAt(0).toUpperCase() }}</span>
        </div>
        <h1 class="user-name">{{ displayName() }}</h1>
        <p class="user-email">{{ email() }}</p>
      </div>
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="loading-section">
      <div class="loading-spinner"></div>
      <p>{{ 'COMMON.LOADING' | translate }}</p>
    </div>
    }

    <!-- User Information -->
    @if (!isLoading() && user()) {
    <div class="perfil-content" style="view-transition-name: perfil-content">
      <div class="info-section">
        <h2>{{ 'PROFILE.PERSONAL_INFO' | translate }}</h2>

        <div class="info-grid">
          @for (item of infoItems(); track item.label; let i = $index) {
          <pelu-info-item
            [data]="item"
            [showStatus]="item.status === 'active'" />
          }
        </div>
      </div>

      <!-- Actions Section -->
      <div class="actions-section">
        <h2>{{ 'COMMON.ACTIONS' | translate }}</h2>
        <div class="actions-grid">
          <button class="action-btn primary" routerLink="/booking">
            <i class="action-icon">üìÖ</i>
            {{ 'BOOKING.SELECT_SERVICE' | translate }}
          </button>
          <button class="action-btn secondary" routerLink="/">
            <i class="action-icon">üè†</i>
            {{ 'NAVIGATION.HOME' | translate }}
          </button>
          <button class="action-btn danger" (click)="logout()">
            <i class="action-icon">üö™</i>
            {{ 'COMMON.LOGOUT' | translate }}
          </button>
        </div>
      </div>
    </div>
    }

    <!-- No User State -->
    @if (!isLoading() && !user()) {
    <div class="no-user-section">
      <div class="no-user-content">
        <i class="no-user-icon">üîí</i>
        <h2>{{ 'AUTH.NOT_LOGGED_IN' | translate }}</h2>
        <p>{{ 'AUTH.LOGIN_TO_VIEW_PROFILE' | translate }}</p>
        <button class="login-btn" routerLink="/login">
          {{ 'COMMON.LOGIN' | translate }}
        </button>
      </div>
    </div>
    }
  </div>
</div>
